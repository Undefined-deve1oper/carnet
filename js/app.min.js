(()=>{"use strict";const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),s=document.querySelectorAll(".lock-padding");let o=!0;if(e.length>0)for(let E=0;E<e.length;E++){const x=e[E];x.addEventListener("click",(function(e){const t=x.getAttribute("href").replace("#","");r(document.getElementById(t)),e.preventDefault()}))}const n=document.querySelectorAll(".close-popup");if(n.length>0)for(let T=0;T<n.length;T++){const k=n[T];k.addEventListener("click",(function(e){c(k.closest(".popup")),e.preventDefault()}))}function r(e){if(e&&o){const n=document.querySelector(".popup.open");n?c(n,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(s.length>0)for(let t=0;t<s.length;t++)s[t].style.paddingRight=e;t.style.paddingRight=e,t.classList.add("lock"),o=!1,setTimeout((function(){o=!0}),800)}(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||c(e.target.closest(".popup"))}))}}function c(e,n=!0){o&&(e.classList.remove("open"),n&&(setTimeout((function(){if(s.length>0)for(let e=0;e<s.length;e++)s[e].style.paddingRight="0px";t.style.paddingRight="0px",t.classList.remove("lock")}),800),o=!1,setTimeout((function(){o=!0}),800)))}const l=Array.from(document.querySelectorAll(".gallery__column")),i=document.querySelector(".gallery__slider"),a=document.querySelector(".gallery__slider_container"),d=Array.from(document.querySelectorAll(".gallery__card")),u=document.querySelector(".gallery-arrow__prev"),_=document.querySelector(".gallery-arrow__next"),m=document.querySelector(".gallery__close"),p=document.querySelector("body");let f,v=-1;if(a){for(const M of l)M.addEventListener("click",(function(e){e.preventDefault(),v=l.indexOf(M),f=d[v].cloneNode(),a.append(f),i.classList.add("_open"),p.style.overflow="hidden"}));function $(e){"left"===e?v>0?v--:v=l.length-1:"rigth"===e&&(v<l.length-1?v++:v=0);let t=d[v].cloneNode();f.replaceWith(t),f=t}u.addEventListener("click",(function(e){e.preventDefault(),$("left")})),_.addEventListener("click",(function(e){e.preventDefault(),$("rigth")})),m.addEventListener("click",(function(e){e.preventDefault(),i.classList.remove("_open"),p.style.overflow="visible",f.remove()}))}document.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("menu__arrow")&&t.closest(".menu__item").classList.toggle("_hover"),!t.closest(".menu__item")&&document.querySelectorAll(".menu__item._hover").length>0&&document.querySelectorAll(".menu__item._hover").forEach((e=>{e.classList.remove("_hover")})),t.classList.contains("menu-footer__title")&&t.closest(".menu-footer__column").classList.toggle("_hover"),!t.closest(".menu-footer__title")&&document.querySelectorAll(".menu-footer__column._hover").length>0&&document.querySelectorAll(".menu-footer__column._hover").forEach((e=>{e.classList.remove("_hover")})),t.classList.contains("menu-range__title")&&t.closest(".menu-range__column").classList.toggle("_hover"),!t.closest(".menu-range__title")&&document.querySelectorAll(".menu-range__column._hover").length>0&&document.querySelectorAll(".menu-range__column._hover").forEach((e=>{e.classList.remove("_hover")})),t.classList.contains("search-form__icon")?document.querySelector(".search-form").classList.toggle("_active"):!t.closest(".search-form")&&document.querySelector(".search-form._active")&&document.querySelector(".search-form").classList.remove("_active"),t.classList.contains("products__more-cars")&&(L(t,"json/cars.json"),e.preventDefault()),t.classList.contains("products__more-econom")&&(L(t,"json/econom.json"),e.preventDefault()),t.classList.contains("products__more-middle")&&(L(t,"json/middle.json"),e.preventDefault()),t.classList.contains("products__more-busnes")&&(L(t,"json/busnes.json"),e.preventDefault()),t.classList.contains("products__more-sport")&&(L(t,"json/sport.json"),e.preventDefault()),t.classList.contains("products__more-stationWagon")&&(L(t,"json/station-wagon.json"),e.preventDefault()),t.classList.contains("products__more-suv")&&(L(t,"json/suv.json"),e.preventDefault()),t.classList.contains("actions-product__button")){e.preventDefault();const s=t.closest(".item-product").dataset.pid;!function(e,t){if(!e.classList.contains("_hold")&&(e.classList.add("_hold"),e.classList.add("_fly"),e)){const s=document.querySelector(".cart-header__icon");let o=document.querySelector(`[data-pid="${t}"]`).querySelector(".item-product__image");const n=o.cloneNode(!0),r=o.offsetWidth,c=o.offsetHeight,l=o.getBoundingClientRect().top,i=o.getBoundingClientRect().left;n.setAttribute("class","_flyImage _ibg"),n.style.cssText=`\n                    top: ${l}px;\n                    left: ${i}px;\n                    width: ${r}px;\n                    height: ${c}px;\n                `,document.body.appendChild(n);const a=s.getBoundingClientRect().top,d=s.getBoundingClientRect().left;n.style.cssText=`\n                    left: ${d}px;\n                    top: ${a}px;\n                    width: 0px;\n                    height: 0px;\n                    opacity: 0;\n                `,n.addEventListener("transitionend",(function(){e.classList.contains("_fly")&&(n.remove(),b(e,t),e.classList.remove("_fly"))}))}}(t,s)}if(t.classList.contains("cart-header__icon")||t.closest(".cart-header__icon")?(document.querySelector(".cart-list").children.length>0&&document.querySelector(".cart-header").classList.toggle("_active"),e.preventDefault()):t.closest(".cart-header")||t.classList.contains("actions-product__button")||document.querySelector(".cart-header").classList.remove("_active"),t.classList.contains("cart-list__delete")){e.preventDefault();const s=t.closest(".cart-list__item").dataset.cartPid;b(t,s,!1)}}));const g=document.querySelector(".header");new IntersectionObserver((e=>{e[0].isIntersecting?g.classList.remove("_scroll"):g.classList.add("_scroll")})).observe(g);const h=document.querySelectorAll(".nav-tabs__item"),y=document.querySelectorAll(".content-tabs__item");async function L(e,t){if(!e.classList.contains("_hold")){e.classList.add("_hold");let o=await fetch(t,{method:"GET"});if(o.ok){let t=await o.json();s=t,y.forEach((e=>{const t=e,o=t.querySelector(".products__items");s.products.forEach((e=>{const s=e.id,n=e.url,r=e.image,c=e.title,l=e.text,i=e.price,a=e.priceOld,d=e.shareUrl,u=e.likeUrl,_=e.labels;let m=`<article data-pid="${s}" class="products__item item-product">`,p="";if(_){let e='<div class="item-product__labels">',t="</div>",s="";_.forEach((e=>{s+=`<div class="item-product__label item-product__label_${e.type}">${e.value}</div>`})),p+=e,p+=s,p+=t}let f="";f='<div class="item-product__prices">',f+=`<div class="item-product__price">Rp ${i}</div>`,a&&(f+=`<div class="item-product__price item-product__price_old">Rp ${a}</div>`),f+="</div>";let v="";v+='<div class="item-product__body">',v+=`\n                    <div class="item-product__content">\n                        <h3 class="item-product__title">${c}</h3>\n                        <div class="item-product__text">${l}</div>\n                    </div>\n                `,v+=f,v+=`\n                    <div class="item-product__actions actions-product">\n                        <div class="actions-product__body">\n                            <a href="" class="actions-product__button btn btn_white">Add to cart</a>\n                            <a href="${d}" class="actions-product__link _icon-share">Share</a>\n                            <a href="${u}" class="actions-product__link _icon-favorite">Like</a>\n                        </div>\n                    </div>\n                `,v+="</div>";let g="";g+=m,g+=p,g+=`\n                    <a href="${n}" class="item-product__image _ibg">\n                        <img src="${r}" alt="${c}">\n                    </a>\n                `,g+=v,g+="</article>",t.classList.contains("_active")&&o.insertAdjacentHTML("beforeend",g)}))})),e.classList.remove("_hold"),e.remove()}else alert("Error")}var s}function b(e,t,s=!0){y.forEach((o=>{let n=o;if(n.classList.contains("_active")){const o=document.querySelector(".cart-header"),r=document.querySelector(".cart-header__icon"),c=document.querySelector(".cart-header__icon > span"),l=document.querySelector(`[data-cart-pid="${t}"]`),i=document.querySelector(".cart-list");if(s){if(c?c.innerHTML=++c.innerHTML:r.insertAdjacentHTML("beforeend","<span>1</span>"),l){const e=l.querySelector(".cart-list__quantity > span");e.innerHTML=++e.innerHTML}else{const e=n.querySelector(`[data-pid="${t}"]`),s=`\n                            <a href="" class="cart-list__image _ibg">${e.querySelector(".item-product__image").innerHTML}</a>\n                            <div class="cart-list__body">\n                                <a href="" class="cart-list__title">${e.querySelector(".item-product__title").innerHTML}</a>\n                                <div class="cart-list__quantity">Quantity: <span>1</span></div>\n                                <a href="" class="cart-list__delete">Delete</a>\n                            </div>\n                        `;i.insertAdjacentHTML("beforeend",`<li data-cart-pid="${t}" class="cart-list__item">${s}</li>`)}e.classList.remove("_hold")}else{const e=l.querySelector(".cart-list__quantity > span");e.innerHTML=--e.innerHTML,parseInt(e.innerHTML)||l.remove();const t=--c.innerHTML;t?c.innerHTML=t:(c.remove(),o.classList.remove("_active"))}}}))}h&&h.forEach((e=>{e.addEventListener("click",(function(){let t=e,s=t.getAttribute("data-tab"),o=document.querySelector(s);t.classList.contains("_active")||(h.forEach((e=>{e.classList.remove("_active")})),y.forEach((e=>{e.classList.remove("_active")})),t.classList.add("_active"),o.classList.add("_active"))}))}));const w=Array.from(document.querySelectorAll(".about__photo-image"));if(w.length>0){let H=0;setInterval((()=>{H>=w.length-1?H=0:H++,w.forEach((e=>{e.classList.remove("_active")})),w[H].classList.add("_active")}),5e3)}const S=document.querySelector(".gallery__body");if(S){const I=document.querySelector(".gallery__items"),j=document.querySelectorAll(".gallery__column"),B=S.dataset.speed;let D=0,C=0,P=()=>{let e=0;j.forEach((t=>{e+=t.offsetWidth}));const t=e-S.offsetWidth,s=Math.floor(C-D);D+=s*B;let o=t/600*D;I.style.cssText=`transform: translate3d(${-o}px, 0, 0);`,Math.abs(s)>0?requestAnimationFrame(P):S.classList.remove("_init")};S.addEventListener("mousemove",(function(e){const t=S.offsetWidth,s=e.pageX-t/2;C=s/t*200,S.classList.contains("_init")||(requestAnimationFrame(P),S.classList.add("_init"))}))}let q=document.querySelectorAll(".stat-statistics__count"),A=document.querySelector(".statistics");q.length>0&&window.addEventListener("scroll",(function(){for(let e=0;e<q.length;e++)if(q[e].getBoundingClientRect().top<window.innerHeight-20&&"0"===q[e].dataset.stop){q[e].dataset.stop=1,A.classList.add("_open");let t=0,s=Math.trunc(6e3/(q[e].dataset.to/5)),o=setInterval((()=>{t+=5,q[e].innerText=t,t>q[e].dataset.to&&(q[e].innerText=q[e].dataset.to,clearInterval(o))}),s)}})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),document.addEventListener("DOMContentLoaded",(function(){document.body.style.overflow="hidden";const e=document.getElementById("overlay"),t=document.getElementById("progstat"),s=document.getElementById("progress"),o=document.images;let n=0,r=o.length;if(0==r)return l();function c(){n++;let e=(100/r*n).toFixed(1)+"%";if(s.style.width=e,t.innerHTML="Loading "+e,n===r)return l()}function l(){e.style.transform="scale(0)",document.body.style.overflow="visible",setTimeout((function(){e.style.display="none"}),1200)}Array.from(o).forEach((e=>{let t=new Image;t.addEventListener("load",c),t.addEventListener("error",c),t.src=e.src}))})),(()=>{const e=document.querySelector(".icon-menu"),t=document.querySelector(".menu__body");e&&t&&e.addEventListener("click",(function(){e.querySelector("span").classList.toggle("_active"),t.classList.toggle("_active")}))})(),function(){let e=document.querySelectorAll("._swiper");if(e)for(let t=0;t<e.length;t++){let s=e[t];if(!s.classList.contains("swiper-bild")){let e=s.children;if(e)for(let t=0;t<e.length;t++)e[t].classList.add("swiper-slide");let t=s.innerHTML,o=document.createElement("div");if(o.classList.add("swiper-wrapper"),o.innerHTML=t,s.innerHTML="",s.appendChild(o),s.classList.add("swiper-bild"),s.classList.contains("_swiper_scroll")){let e=document.createElement("div");e.classList.add("swiper-scrollbar"),s.appendChild(e)}}s.classList.contains("_gallery")&&s.data("lightGallery").destroy(!0)}let t=document.querySelectorAll("._swiper_scroll");if(t.length>0)for(let e=0;e<t.length;e++){const s=t[e],o=s.querySelector(".swiper-scrollbar");new Swiper(s,{observer:!0,observeParents:!0,direction:"vertical",slidesPerView:"auto",freeMode:!0,scrollbar:{el:o,draggable:!0,snapOnRelease:!1},mousewheel:{releaseOnEdges:!0}}).scrollbar.updateSize()}document.querySelector(".slider-main__body")&&new Swiper(".slider-main__body",{observer:!0,observeParents:!0,slidesPerView:1,spaceBetween:32,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,grabCursor:!0,parallax:!0,pagination:{el:".controls-slider-main__dotts",clickable:!0},navigation:{nextEl:".slider-main .slider-arrow_next",prevEl:".slider-main .slider-arrow_prev"}}),document.querySelector(".slider-tips__body")&&new Swiper(".slider-tips__body",{observer:!0,observeParents:!0,slidesPerView:3,spaceBetween:32,speed:800,loop:!0,watchOverflow:!0,simulateTouch:!0,grabCursor:!0,pagination:{el:".slider-tips__dotts",clickable:!0},navigation:{nextEl:".slider-tips .slider-arrow_next",prevEl:".slider-tips .slider-arrow_prev"},breakpoints:{320:{slidesPerView:1.1,spaceBetween:15},768:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:32}}}),document.querySelector(".slider-cars__body")&&new Swiper(".slider-cars__body",{observer:!0,observeParents:!0,slidesPerView:"auto",spaceBetween:24,watchOverflow:!0,speed:800,loop:!0,loopAdditionalSlides:5,preloadImages:!1,grabCursor:!0,parallax:!0,pagination:{el:".slider-cars__dotts",clickable:!0},navigation:{nextEl:".slider-cars .slider-arrow_next",prevEl:".slider-cars .slider-arrow_prev"}})}()})();